# Hazel configuration File

[Working mode]
Action = 'inversion'                                            # 'synthesis' or 'inversion'
Verbose = True
Output file = output.h5


[Spectral regions]
    [[Region 1]]
    Name = spec1
    Lower, upper, n. wavelengths = 10826, 10833, 150
    Wavelength file = 'observations/10830.wavelength'
    Wavelength weight file = 'observations/10830.weights'
    Observations file = 'observations/10830_stokes.1d'

[Atmospheres]

    [[Photosphere 1]]
    Name = ph1
    Reference atmospheric model = 'photospheres/model_photosphere_200.1d'
    Spectral region = spec1
    Wavelength range = 10826, 10833
    Spectral lines = 300,

        [[[Ranges]]]
        T      = -3000.0, 3000.0
        vmic   = 0.0, 3.0
        v      = -10.0, 10.0
        Bx     = -1000.0, 1000.0
        By     = -1000.0, 1000.0
        Bz     = -1000.0, 1000.0

        [[[Nodes]]]
        T      = 3, 3, 5, 5
        vmic   = 1, 1, 1, 1
        v      = 1, 1, 1, 1
        Bx     = 1, 1, 1, 1
        By     = 1, 1, 1, 1
        Bz     = 1, 1, 1, 1

    [[Chromosphere 1]]
    Name = ch1                                              # Name of the atmosphere component
    Spectral region = spec1                                 # Spectral region to be used for synthesis
    Height = 3.0                                            # Height of the slab
    Line = 10830                                            # 10830, 5876
    Wavelength range = 10828, 10833                         # Wavelength range used for synthesis
    Reference atmospheric model = 'chromospheres/model_chromosphere.1d'    # File with model parameters

        [[[Ranges]]]
        Bx     = -500, 500
        By     = -500, 500
        Bz     = -500, 500
        tau    = 0.1, 2.0
        v      = -10.0, 10.0
        deltav = 3.0, 12.0
        beta   = 1.0, 2.0
        a      = 0.0, 1.0

        [[[Nodes]]]
        Bx     = 1, 0, 1, 1
        By     = 1, 0, 1, 1
        Bz     = 1, 0, 1, 1
        tau    = 1, 1, 0, 0
        v      = 1, 1, 0, 0
        deltav = 1, 1, 0, 0
        beta   = 0, 0, 0, 0
        a      = 0, 1, 0, 0
    
    [[Parametric 1]]
    Name = te1
    Spectral region = spec1
    Wavelength range = 10828, 10833
    Reference atmospheric model = 'telluric/model_telluric.1d'    # File with model parameters
    Type = Voigt           # Voigt, MoGaussian, MoVoigt 

        [[[Ranges]]]
        Lambda0 = -1.0, 1.0
        Sigma = 0.3, 0.5
        Depth = 0.2, 0.8
        a = 0.0, 0.2
    
        [[[Nodes]]]
        Lambda0 = 1, 0, 0, 0
        Sigma = 0, 0, 0, 0
        Depth = 0, 0, 0, 0
        a = 0, 0, 0, 0

[Topology]
# Always photosphere and then chromosphere
# Photospheres are only allowed to be added with a filling factor
# Atmospheres share a filling factor if they are in parenthesis
# Atmospheres are one after the other with the -> operator
# Atmosphere 1 = ph2 -> ch1 -> ch2
Atmosphere 1 = ph1 -> ch1 -> te1